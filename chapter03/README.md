# 03. 자바와 객체지향

구조적 프로그래밍은 한계는 기계 수준으로 눈을 맞춰 프로그래밍을 했어야 했다. 하지만 객체지향의 등장으로 직관적이며 쉽고 인간적이게 프로그래밍할 수 있게 되었다.

이번 장에서는 객체 지향의 4대 특성(캡.상.추.다)에 대해 알아보도록 한다.

## 객체 지향의 4대 특성 - 캡! 상추다

이렇게 간단 명료하게 객체 지향의 4대 특성을 외울수 있다니 정말 대단하다.

- 캡(캡슐화) : 정보은닉
- 상(상속) : 재사용
- 추(추상화) : 모델링
- 다(다형성) : 사용 편의

위의 네 가지 특성에 대해 알아보도록 하자.

## 클래스 vs. 객체

이 책에서 클래스와 객체의 이해를 붕어빵틀과 붕어빵으로만 이해하면 안된다고 설명하고 있다. (실제로 붕어빵틀과 붕어빵은 팩토리 생성 패턴이다.)

이 책에서는 클래스아 객체를 다음과 같은 개념으로 설명한다.

- 클래스 : 분류에 대한 개념
- 객체 : 실체

## 추상화: 모델링

### 추상화는 모델링이다.

추상화란 구체적인 것을 분해해서 관찰자가 관심 있는 특성만 가지고 재좁하는 것이라고 정리할 수 있다.

우선 클래스와 객체에 대해 먼저 이야기 해보자.

- 클래스 : 분류, 집합, 같은 속성과 기능을 가진 객체를 총칭하는 개념
- 객체 : 세상에 존재하는 유일무이한 사물

클래스를 이용해 object(객체)를 만들었다는 것을 강조할 때는 클래스의 **인스턴스**를 만들었다고 표현한다.

그럼 클래스로 한 객체의 모든 특성을 나열할 수 있을까? 여기서 나온 개념이 **애플리케이션의 경계**다.

- 애플리케이션 경계를 **컨텍스트**라고 부르기도 한다.
- 이 경계의 기준은 <u>"내가 만들고자 하는 애플리케이션은 어디에서 사용될 것인가?"</u> 라는 질문에서 해답을 얻을 수 있다.
- 클래스 설계를 위해 해당클래스의 객체로부터 공통 특성을 뽑아내야 한다.

그래서 이 기준으로 필요 없는 특성들이 보이기 시작하고 구체적인 것을 분해해서 관심 영역에 대한 특성만 가질 수 있게 된다.

> 추상화란 구체적인 것을 분해해서 <u>관심 영역</u>(**Application Boundary**)에 대한 특성만 가지고 재조합하는 것(**=모델링**)

그래서 모델링이 얼마나 중요한가?

- 모델은 실제 사물을 정확히 복제하는 게 아니라 목적에 맞게 관심 있는 특성만을 추출해서 표현하는 것.
- 이러한 모델링은 객체 지향에서 클래스를 설계할 때 필요한 기법이고 또한 데이터베이스의 테이블을 설계할 때 필요한 기법.

### 클래스 멤버 vs. 객체 멤버 = static 멤버 vs. 인스턴스 멤버

- 클래스 멤버
  - static 키워드와 함께 사용되고 또 T 메모리의 static 영역에 상주하게 되므로 static(정적) 멤버라고 한다.
  - 정당한 논리로 해당 클래스의 모든 객체가 같은 값을 가질 때 사용하는 것이 기본.
- 객체 멤버
  - 객체가 클래스의 인스턴스이므로 <u>인스턴스 멤버</u>라고도 한다.

그럼 정적 메서드는 언제 사용해야 하는가?

- 정적 저메서드는 객체들의 존재 여부에 관계없이 쓸 수 있는 메서드 (객체의 존재 여부에 관계 없이 쓸 수 있음)
- 사용 사례
  - main()
  - 정젹 변수에 대한 getter / setter
  - 실무에선 유틸리티성 메서드 (ex. Math class)

## 상속: 재사용 + 확장

객체 지향에서의 **상속**은 상위 클래스의 특성을 하위 클래스에서 상속(특성 상속)하고 거기에 더해 필요한 특성을 추가, 즉 확장해서 사용할 수 있다는 의미.

상속 관계에서 반드시 만족해야 할 문장

- 하위 클래스는 상위 클래스이다.
- 로버트 C. 마틴이 주장한 LSP(리스코프 치환 원칙)을 나타내는 말.

### 상속의 강력함

클래스명은 분류스럽게(사람), 객체 참조 변수명은 유일무이한 사물(일용)처럼 작명해야 한다.

더욱이 상속한다는 것은 상위 클래스의 특성을 상속한다는 의미이지 부모-자식 관계는 아니다.

### 상속은 is a 관계를 만족해야 한다?

클래스의 is a 관계는 이런식으로 표현 될 것이다.

> 하위 클래스 is a 상위 클래스

상속 관계를 표현할 때 오해가 없도록 더 명확한 표현으로 기억하는 것이 좋다.

- 바로 `is a kind of 관계` 이다.

꼭 기억할 세 문장.

- 객체 지향의 상속은 상위 클래스의 특성을 재사용하는 것이다.
- 객체 지향의 상속은 상위 클래스의 특성을 확장하는 것이다.
- 객체 지향의 상속은 is a kind of 관계를 만족해야 한다.

### 상속과 인터페이스

- 상속관계 : is a knd of 관계
- 인터페이스 : is able to 관계

인터페이스는 "무엇을 할 수 있는" 이라는 표현 형태로 만드는 것이 좋다.

여기서 더 나아가

- 상위 클래스는 물려줄 특성이 풍성할수록 좋고 (LSP)
- 인터페이스는 구현을 강제할 메서드의 개수가 적을수록 좋다 (ISP)

## 다형성: 사용편의성

자바에서 다형성은 동일한 네이밍을 가지고 여러 형태의 액션을 취하는 테크닉을 의미한다. 대표적으로 오버라이딩과 오버ㅏ로딩이 있다.

- 오버라이딩(재정의)
  - 상위 클래스의 메서드와 같은 메서드 이름, 같은 인자 리스트
- 오버로딩(중복정의)
  - 같은 메서드 이름, 다른 인자 리스트

`오버로딩`은 함수명 하나를 가지고 인자 목록만 달리하면 되니 얼마나 사용하기 편리한지 알 수 있다. `오버라이딩`은 하위 클래스가 재정의한 메서드를 알아서 호출해 줌으로써 형변환이나 `instanceof` 연산자를 써서 하위 클래스가 무엇인지 신경 쓰지 않아도 된다. (코드깔끔,간결) 그래서 저자는 다형성에 대해 사용 편의성이라고 정의한 이유이다.

## 캡슐화: 정보 은닉

자바에서 정보 은닉이라고 하면 접근 제어자를 두어 정보를 숨기고 객체의 연산을 통해서 접근이 가능하게 하는 것이다.

왜 이렇게 하는가?

- 특정 객체의 데이터 및 함수를 직접 막음으로써 변경을 못하게 하고 유지보수나 확장시 오류의 범위를 최소화 할 수 있다.
- 데이터가 변경되어도 다른 객체에 영향을 주지 않기 때문에 독립성이 좋다.

종류

- public
  - 모두가 접근 가능
- protected
  - 상속 / 같은 패키지 내의 클래스에서 접근 가능
- default
  - 같은 패키지 내의 클래스에서 접근 가능
- private
  - 본인만 접근 가능

다음 두 가지 사항을 꼭 기억하자.

- 상속을 받지 않았다면 객체 멤버는 객체를 생성한 후 객체 참조 변수를 이용해 접근해야 한다.
- 정적 멤버는 `클래스명.정적멤버` 형식으로 접근하는 것을 권장.
  - 왜? 일관된 형식으로 접근하기 위해.

### Call By Value vs. Call By Reference

- Call By Value : 저장하고 있는 값을 **그 값 자체**로 해석
- Call By Reference : 저장하고 있는 값을 **주소**로 해석

<hr/>

## 질문 사항

### Q. 다형성에서 서브클래스에서 오버라이딩 된 메소드를 호출하면서 슈퍼클래스 메소드가 아닌 서브클래스 메소드가 호출되는 이유?

A. **Dynamic method dispatch**는 런타임에 <u>변수의 타입이 아니라 인스턴스의 타입</u>을 보고 호출 할 메소드를 결정한다.

> 참고 : https://velog.io/@maigumi/Dynamic-Method-Dispatch
